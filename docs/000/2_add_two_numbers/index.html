<!doctype html><html lang=en dir=ltr>
<head>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1">
<meta name=description content="1 Description #  source: https://leetcode.com/problems/add-two-numbers/
You are given two non-empty linked lists representing two non-negative integers. The digits are stored in reverse order and each of their nodes contain a single digit. Add the two numbers and return it as a linked list.
You may assume the two numbers do not contain any leading zero, except the number 0 itself.
Example:
 Input: (2 -> 4 -> 3) + (5 -> 6 -> 4) Output: 7 -> 0 -> 8 Explanation: 342 + 465 = 807.">
<meta name=theme-color content="#FFFFFF">
<meta name=color-scheme content="light dark"><meta property="og:title" content="2. Add two number">
<meta property="og:description" content="1 Description #  source: https://leetcode.com/problems/add-two-numbers/
You are given two non-empty linked lists representing two non-negative integers. The digits are stored in reverse order and each of their nodes contain a single digit. Add the two numbers and return it as a linked list.
You may assume the two numbers do not contain any leading zero, except the number 0 itself.
Example:
 Input: (2 -> 4 -> 3) + (5 -> 6 -> 4) Output: 7 -> 0 -> 8 Explanation: 342 + 465 = 807.">
<meta property="og:type" content="article">
<meta property="og:url" content="https://ramsayleung.github.io/leetcode_book/docs/000/2_add_two_numbers/"><meta property="article:section" content="docs">
<meta property="article:published_time" content="2020-04-24T21:45:43+00:00">
<meta property="article:modified_time" content="2022-02-27T20:13:46+08:00">
<title>2. Add two number | Leetcode Book</title>
<link rel=manifest href=https://ramsayleung.github.io/leetcode_book/manifest.json>
<link rel=icon href=https://ramsayleung.github.io/leetcode_book/favicon.png type=image/x-icon>
<link rel=stylesheet href=https://ramsayleung.github.io/leetcode_book/book.min.82c5dbd23447cee0b4c2aa3ed08ce0961faa40e1fa370eee4f8c9f02e0d46b5f.css integrity="sha256-gsXb0jRHzuC0wqo+0Izglh+qQOH6Nw7uT4yfAuDUa18=" crossorigin=anonymous>
<script defer src=https://ramsayleung.github.io/leetcode_book/flexsearch.min.js></script>
<script defer src=https://ramsayleung.github.io/leetcode_book/en.search.min.cabbc183c972586512d6ac7e10137f1b0b671949d6b0ede77237f6eb5e2c255d.js integrity="sha256-yrvBg8lyWGUS1qx+EBN/GwtnGUnWsO3ncjf2614sJV0=" crossorigin=anonymous></script>
<script defer src=https://ramsayleung.github.io/leetcode_book/sw.min.6f6f90fcb8eb1c49ec389838e6b801d0de19430b8e516902f8d75c3c8bd98739.js integrity="sha256-b2+Q/LjrHEnsOJg45rgB0N4ZQwuOUWkC+NdcPIvZhzk=" crossorigin=anonymous></script>
</head>
<body dir=ltr>
<input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control>
<main class="container flex">
<aside class=book-menu>
<div class=book-menu-content>
<nav>
<h2 class=book-brand>
<a class="flex align-center" href=https://ramsayleung.github.io/leetcode_book/><span>Leetcode Book</span>
</a>
</h2>
<div class=book-search>
<input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/>
<div class="book-search-spinner hidden"></div>
<ul id=book-search-results></ul>
</div>
<ul>
<li>
<input type=checkbox id=section-5ac35e0269e59d3e67d7b936369f0f09 class=toggle checked>
<label for=section-5ac35e0269e59d3e67d7b936369f0f09 class="flex justify-between">
<a href=https://ramsayleung.github.io/leetcode_book/docs/000/>0th</a>
</label>
<ul>
<li>
<a href=https://ramsayleung.github.io/leetcode_book/docs/000/2_add_two_numbers/ class=active>2. Add two number</a>
</li>
<li>
<a href=https://ramsayleung.github.io/leetcode_book/docs/000/61_rotate_list/>61. Rotate List</a>
</li>
</ul>
</li>
<li>
<input type=checkbox id=section-69c684b2940be61937a58016bed09369 class=toggle>
<label for=section-69c684b2940be61937a58016bed09369 class="flex justify-between">
<a href=https://ramsayleung.github.io/leetcode_book/docs/100/>100th</a>
</label>
<ul>
<li>
<a href=https://ramsayleung.github.io/leetcode_book/docs/100/141_linked_list_cycle/>141. Linked list cycle</a>
</li>
</ul>
</li>
</ul>
<ul>
<li>
<a href=https://github.com/ramsayleung/leetcode_book target=_blank rel=noopener>
Github
</a>
</li>
<li>
<a href=https://leetcode.com/ target=_blank rel=noopener>
Leetcode
</a>
</li>
</ul>
</nav>
<script>(function(){var a=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(b){localStorage.setItem("menu.scrollTop",a.scrollTop)}),a.scrollTop=localStorage.getItem("menu.scrollTop")})()</script>
</div>
</aside>
<div class=book-page>
<header class=book-header>
<div class="flex align-center justify-between">
<label for=menu-control>
<img src=https://ramsayleung.github.io/leetcode_book/svg/menu.svg class=book-icon alt=Menu>
</label>
<strong>2. Add two number</strong>
<label for=toc-control>
<img src=https://ramsayleung.github.io/leetcode_book/svg/toc.svg class=book-icon alt="Table of Contents">
</label>
</div>
<aside class="hidden clearfix">
<nav id=TableOfContents>
<ul>
<li>
<ul>
<li><a href=#description><span class=section-num>1</span> Description</a></li>
<li><a href=#solution><span class=section-num>2</span> Solution</a></li>
</ul>
</li>
</ul>
</nav>
</aside>
</header>
<article class=markdown><h2 id=description>
<span class=section-num>1</span> Description
<a class=anchor href=#description>#</a>
</h2>
<p>source:
<a href=https://leetcode.com/problems/add-two-numbers/>https://leetcode.com/problems/add-two-numbers/</a></p>
<p>You are given two <strong>non-empty</strong> linked lists representing two non-negative integers. The digits are stored in <strong>reverse order</strong> and each of their nodes contain a single digit. Add the two numbers and return it as a linked list.</p>
<p>You may assume the two numbers do not contain any leading zero, except the number 0 itself.</p>
<p>Example:</p>
<figure><img src=https://assets.leetcode.com/uploads/2020/10/02/addtwonumber1.jpg>
</figure>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text>Input: (2 -&gt; 4 -&gt; 3) + (5 -&gt; 6 -&gt; 4)
Output: 7 -&gt; 0 -&gt; 8
Explanation: 342 + 465 = 807.
</code></pre></div><h2 id=solution>
<span class=section-num>2</span> Solution
<a class=anchor href=#solution>#</a>
</h2>
<p>Solution in Python3:</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#75715e># Definition for singly-linked list.</span>
<span style=color:#75715e># class ListNode:</span>
<span style=color:#75715e>#     def __init__(self, x):</span>
<span style=color:#75715e>#         self.val = x</span>
<span style=color:#75715e>#         self.next = None</span>

<span style=color:#75715e># Runtime: 72 ms, faster than 62.00% of Python3 online submissions for Add Two Numbers.</span>
<span style=color:#75715e># time complexity: O(n1+n2), n1 is the length of l1, n2 is the length of l2</span>
<span style=color:#75715e># space complexity: O(max(n1,n2)), the length of sum of two number equals the larger&#39;s</span>


<span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Solution</span>:
    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>addTwoNumbers</span>(self, l1: ListNode, l2: ListNode) <span style=color:#f92672>-&gt;</span> ListNode:
	num1 <span style=color:#f92672>=</span> self<span style=color:#f92672>.</span>getNumber(l1)
	num2 <span style=color:#f92672>=</span> self<span style=color:#f92672>.</span>getNumber(l2)
	result <span style=color:#f92672>=</span> num1<span style=color:#f92672>+</span>num2
	<span style=color:#66d9ef>return</span> self<span style=color:#f92672>.</span>constructNumber(result)

    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>getNumber</span>(self, llist: ListNode) <span style=color:#f92672>-&gt;</span> int:
	num <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;&#34;</span>
	<span style=color:#66d9ef>while</span> llist:
	    num <span style=color:#f92672>=</span> str(llist<span style=color:#f92672>.</span>val) <span style=color:#f92672>+</span> num
	    llist <span style=color:#f92672>=</span> llist<span style=color:#f92672>.</span>next
	<span style=color:#66d9ef>return</span> int(num)

    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>constructNumber</span>(self, num: int) <span style=color:#f92672>-&gt;</span> ListNode:
	print(num)
	input <span style=color:#f92672>=</span> str(num)
	parent <span style=color:#f92672>=</span> root <span style=color:#f92672>=</span> <span style=color:#66d9ef>None</span>
	<span style=color:#66d9ef>while</span> len(input) <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>0</span>:
	    val <span style=color:#f92672>=</span> input[len(input)<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>]
	    newNode <span style=color:#f92672>=</span> ListNode(int(val))
	    <span style=color:#66d9ef>if</span> <span style=color:#f92672>not</span> parent:
		parent <span style=color:#f92672>=</span> newNode
		root <span style=color:#f92672>=</span> parent
	    <span style=color:#66d9ef>else</span>:
		parent<span style=color:#f92672>.</span>next <span style=color:#f92672>=</span> newNode
		parent <span style=color:#f92672>=</span> newNode
	    input <span style=color:#f92672>=</span> input[:len(input)<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>]
	<span style=color:#66d9ef>return</span> root

</code></pre></div><p>Solution in C++:</p>
<figure><a href=https://ramsayleung.github.io/leetcode_book/ox-hugo/2_add_two_numbers.png><img src=https://ramsayleung.github.io/leetcode_book/ox-hugo/2_add_two_numbers.png></a>
</figure>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c++ data-lang=c++><span style=color:#75715e>/**
</span><span style=color:#75715e> * Definition for singly-linked list.
</span><span style=color:#75715e> * struct ListNode {
</span><span style=color:#75715e> *     int val;
</span><span style=color:#75715e> *     ListNode *next;
</span><span style=color:#75715e> *     ListNode() : val(0), next(nullptr) {}
</span><span style=color:#75715e> *     ListNode(int x) : val(x), next(nullptr) {}
</span><span style=color:#75715e> *     ListNode(int x, ListNode *next) : val(x), next(next) {}
</span><span style=color:#75715e> * };
</span><span style=color:#75715e> */</span>
<span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Solution</span> {
<span style=color:#66d9ef>public</span><span style=color:#f92672>:</span>
  ListNode <span style=color:#f92672>*</span>addTwoNumbers(ListNode <span style=color:#f92672>*</span>l1, ListNode <span style=color:#f92672>*</span>l2) {
    <span style=color:#75715e>// Runtime complexity O(n), n = max(l1.size(), l2.size())
</span><span style=color:#75715e></span>    <span style=color:#75715e>// Space complexity O(1)
</span><span style=color:#75715e></span>
    ListNode <span style=color:#f92672>*</span>result <span style=color:#f92672>=</span> l1;
    ListNode <span style=color:#f92672>*</span>prev <span style=color:#f92672>=</span> <span style=color:#66d9ef>nullptr</span>;
    <span style=color:#66d9ef>int</span> carry <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
    <span style=color:#66d9ef>while</span> (l1 <span style=color:#f92672>&amp;&amp;</span> l2) {
      <span style=color:#66d9ef>int</span> add_result <span style=color:#f92672>=</span> l1<span style=color:#f92672>-&gt;</span>val <span style=color:#f92672>+</span> l2<span style=color:#f92672>-&gt;</span>val <span style=color:#f92672>+</span> carry;
      <span style=color:#66d9ef>if</span> (add_result <span style=color:#f92672>%</span> <span style=color:#ae81ff>10</span> <span style=color:#f92672>==</span> add_result) {
	l1<span style=color:#f92672>-&gt;</span>val <span style=color:#f92672>=</span> add_result;
	carry <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
      } <span style=color:#66d9ef>else</span> {
	l1<span style=color:#f92672>-&gt;</span>val <span style=color:#f92672>=</span> add_result <span style=color:#f92672>%</span> <span style=color:#ae81ff>10</span>;
	carry <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>;
      }

      prev <span style=color:#f92672>=</span> l1;
      l1 <span style=color:#f92672>=</span> l1<span style=color:#f92672>-&gt;</span>next;
      l2 <span style=color:#f92672>=</span> l2<span style=color:#f92672>-&gt;</span>next;
    }

    <span style=color:#66d9ef>if</span> (l1 <span style=color:#f92672>||</span> l2) {
      prev<span style=color:#f92672>-&gt;</span>next <span style=color:#f92672>=</span> (l1 <span style=color:#f92672>!=</span> <span style=color:#66d9ef>nullptr</span> <span style=color:#f92672>?</span> l1 : l2);
      ListNode <span style=color:#f92672>*</span>head <span style=color:#f92672>=</span> prev<span style=color:#f92672>-&gt;</span>next;

      <span style=color:#66d9ef>while</span> (head) {
	<span style=color:#66d9ef>int</span> add_result <span style=color:#f92672>=</span> head<span style=color:#f92672>-&gt;</span>val <span style=color:#f92672>+</span> carry;
	<span style=color:#66d9ef>if</span> (add_result <span style=color:#f92672>%</span> <span style=color:#ae81ff>10</span> <span style=color:#f92672>==</span> add_result) {
	  head<span style=color:#f92672>-&gt;</span>val <span style=color:#f92672>=</span> add_result;
	  carry <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
	} <span style=color:#66d9ef>else</span> {
	  head<span style=color:#f92672>-&gt;</span>val <span style=color:#f92672>=</span> add_result <span style=color:#f92672>%</span> <span style=color:#ae81ff>10</span>;
	  carry <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>;
	}
	prev <span style=color:#f92672>=</span> head;
	head <span style=color:#f92672>=</span> head<span style=color:#f92672>-&gt;</span>next;
      }
    } <span style=color:#66d9ef>else</span> {
      <span style=color:#66d9ef>if</span> (carry <span style=color:#f92672>!=</span> <span style=color:#ae81ff>0</span>) {
	prev<span style=color:#f92672>-&gt;</span>next <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> ListNode(carry);
	<span style=color:#66d9ef>return</span> result;
      }
    }

    <span style=color:#66d9ef>if</span> (carry <span style=color:#f92672>!=</span> <span style=color:#ae81ff>0</span>) {
      prev<span style=color:#f92672>-&gt;</span>next <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> ListNode(carry);
    }

    <span style=color:#66d9ef>return</span> result;
  }
};
</code></pre></div></article>
<footer class=book-footer>
<div class="flex flex-wrap justify-between">
<div><a class="flex align-center" href=https://github.com/ramsayleung/leetcode_book/commit/dffcf1e31dd3a653accc5119ab17fe5e03b23c13 title="Last modified by Ramsay | February 27, 2022" target=_blank rel=noopener>
<img src=https://ramsayleung.github.io/leetcode_book/svg/calendar.svg class=book-icon alt=Calendar>
<span>February 27, 2022</span>
</a>
</div>
</div>
<script>(function(){function a(c){const a=window.getSelection(),b=document.createRange();b.selectNodeContents(c),a.removeAllRanges(),a.addRange(b)}document.querySelectorAll("pre code").forEach(b=>{b.addEventListener("click",function(c){a(b.parentElement),navigator.clipboard&&navigator.clipboard.writeText(b.parentElement.textContent)})})})()</script>
</footer>
<div class=book-comments>
</div>
<label for=menu-control class="hidden book-menu-overlay"></label>
</div>
<aside class=book-toc>
<div class=book-toc-content>
<nav id=TableOfContents>
<ul>
<li>
<ul>
<li><a href=#description><span class=section-num>1</span> Description</a></li>
<li><a href=#solution><span class=section-num>2</span> Solution</a></li>
</ul>
</li>
</ul>
</nav>
</div>
</aside>
</main>
</body>
</html>